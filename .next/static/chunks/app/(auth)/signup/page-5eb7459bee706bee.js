(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[2271],{3445:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>o});var a=s(5155),l=s(2115),r=s(5695),n=s(6766),i=s(6927);function o(){let e=(0,r.useRouter)(),[t,s]=(0,l.useState)(1),[o,u]=(0,l.useState)(""),[c,d]=(0,l.useState)(""),[m,g]=(0,l.useState)(""),[h,x]=(0,l.useState)(""),[f,p]=(0,l.useState)(null),[b,v]=(0,l.useState)(null),[j,N]=(0,l.useState)(!1),[w,y]=(0,l.useState)(""),[k,C]=(0,l.useState)(!1),I=()=>o.trim()?c.trim()?m.includes("@")?!h.trim()||h.length<10?"Phone number is invalid":!w||w.length<6?"Password must be at least 6 characters":j?null:"You must accept the Terms and Conditions":"Valid email is required":"Username is required":"Name is required",S=async e=>{if(!f)return null;let t=f.name.split(".").pop(),s="avatars/".concat(e,".").concat(t),{error:a}=await i.N.storage.from("avatars").upload(s,f);if(a)return console.error("Avatar upload failed",a.message),null;let{data:l}=i.N.storage.from("avatars").getPublicUrl(s);return(null==l?void 0:l.publicUrl)||null},U=async()=>{var t;C(!0);let{data:s,error:a}=await i.N.auth.signUp({email:m,password:w});if(a){alert("Signup failed: "+a.message),C(!1);return}let l=null==s||null==(t=s.user)?void 0:t.id;if(!l){alert("User ID missing."),C(!1);return}let r=await S(l),{error:n}=await i.N.from("users").insert([{id:l,name:o,username:c,email:m,phone:h,avatar_url:r,terms_accepted:j}]);if(n){alert("DB Insert failed: "+n.message),C(!1);return}alert("Registration successful! Please verify your email."),C(!1),e.push("/login")},P=async()=>{C(!0);let{error:e}=await i.N.auth.signInWithOAuth({provider:"google"});e&&alert("Google sign-in error: "+e.message),C(!1)};return(0,a.jsxs)("div",{className:"relative min-h-screen bg-black flex items-center justify-center",children:[(0,a.jsx)("div",{className:"absolute inset-0 z-0",children:(0,a.jsx)(n.default,{src:"/login/login-bg.png",alt:"Background",width:500,height:500,className:"absolute bottom-0 left-1/2 transform -translate-x-1/2"})}),(0,a.jsxs)("div",{className:"relative z-10 w-[380px] sm:w-full sm:max-w-md bg-black/60 px-6 py-8 rounded-2xl shadow-xl border border-gray-700 space-y-6",children:[(0,a.jsxs)("div",{className:"flex items-center justify-center gap-4",children:[(0,a.jsx)(n.default,{src:"/login/logo.jpeg",alt:"Logo",width:60,height:60,className:"rounded-full"}),(0,a.jsxs)("h2",{className:"text-xl font-semibold text-gray-200",children:["The Law ",(0,a.jsx)("br",{})," Classrooms"]})]}),(0,a.jsx)("h2",{className:"font-bold text-center text-white",children:"Create Your Account"}),(0,a.jsxs)("button",{onClick:P,disabled:k,className:"w-full flex items-center justify-center gap-3 bg-[#1b1919] hover:bg-[#f81f02] text-white py-3 rounded-lg font-semibold",children:[(0,a.jsx)("img",{src:"icons/google.png",alt:"Google Icon",className:"w-6 h-6"}),k?"Processing...":"Sign up with Google"]}),(0,a.jsx)("div",{className:"text-gray-400 text-center my-2",children:"OR"}),1===t&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("input",{className:"input",placeholder:"Full Name *",value:o,onChange:e=>u(e.target.value)}),(0,a.jsx)("input",{className:"input",placeholder:"Username *",value:c,onChange:e=>d(e.target.value)}),(0,a.jsx)("input",{className:"input",placeholder:"Email *",value:m,onChange:e=>g(e.target.value)}),(0,a.jsx)("input",{className:"input",placeholder:"+91xxxxxxxxxx *",value:h,onChange:e=>x(e.target.value)}),(0,a.jsx)("input",{className:"input",type:"password",placeholder:"Password *",value:w,onChange:e=>y(e.target.value)}),(0,a.jsx)("label",{className:"block text-white font-medium mt-3",children:"Upload Avatar"}),(0,a.jsx)("input",{type:"file",accept:"image/*",onChange:e=>{e.target.files&&e.target.files[0]&&(p(e.target.files[0]),v(URL.createObjectURL(e.target.files[0])))},className:"text-white"}),b&&(0,a.jsx)("img",{src:b,className:"mt-2 w-20 h-20 rounded-full object-cover"}),(0,a.jsxs)("label",{className:"flex items-center gap-2 text-white mt-2",children:[(0,a.jsx)("input",{type:"checkbox",checked:j,onChange:()=>N(!j)}),"I accept the"," ",(0,a.jsx)("span",{className:"text-yellow-400 underline cursor-pointer",children:"Terms and Conditions"})]}),(0,a.jsx)("button",{onClick:()=>{let e=I();if(e)return void alert(e);s(2)},disabled:!j,className:"w-full bg-[#000] hover:bg-[#ff9f10] text-white py-3 rounded-lg font-semibold",children:"Next"})]}),2===t&&(0,a.jsxs)("form",{onSubmit:e=>{e.preventDefault(),U()},children:[(0,a.jsx)("p",{className:"text-yellow-400 text-center mb-4",children:"Verify your account by clicking the link sent to your email."}),(0,a.jsx)("button",{type:"submit",disabled:k,className:"w-full bg-[#000] hover:bg-[#ff9f10] text-white py-3 rounded-lg font-semibold",children:k?"Registering...":"Complete Registration"}),(0,a.jsx)("button",{type:"button",onClick:()=>s(1),className:"w-full mt-3 bg-gray-700 hover:bg-gray-600 text-white py-2 rounded-lg font-semibold",children:"Back"})]}),(0,a.jsxs)("div",{className:"text-center text-sm text-gray-300 mt-6",children:["Already have an account?"," ",(0,a.jsx)("button",{onClick:()=>e.push("/login"),className:"text-[#c58026] hover:text-[#ffdd1b] underline font-medium",children:"Login here"})]})]})]})}},5075:(e,t,s)=>{Promise.resolve().then(s.bind(s,3445))},5695:(e,t,s)=>{"use strict";var a=s(8999);s.o(a,"usePathname")&&s.d(t,{usePathname:function(){return a.usePathname}}),s.o(a,"useRouter")&&s.d(t,{useRouter:function(){return a.useRouter}})},6927:(e,t,s)=>{"use strict";s.d(t,{N:()=>a});let a=(0,s(851).UU)("https://ydtektmyrwncoxlxfskc.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InlkdGVrdG15cnduY294bHhmc2tjIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDc0MTc2OTEsImV4cCI6MjA2Mjk5MzY5MX0.XKkf3ekS1wkh2lMTzsArP7qSsknXzZ6t_kW-fJSI2vg")}},e=>{var t=t=>e(e.s=t);e.O(0,[851,6766,8441,1684,7358],()=>t(5075)),_N_E=e.O()}]);
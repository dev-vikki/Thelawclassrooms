(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[72],{5695:(e,t,s)=>{"use strict";var a=s(8999);s.o(a,"usePathname")&&s.d(t,{usePathname:function(){return a.usePathname}}),s.o(a,"useRouter")&&s.d(t,{useRouter:function(){return a.useRouter}})},6927:(e,t,s)=>{"use strict";s.d(t,{N:()=>a});let a=(0,s(851).UU)("https://ydtektmyrwncoxlxfskc.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InlkdGVrdG15cnduY294bHhmc2tjIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDc0MTc2OTEsImV4cCI6MjA2Mjk5MzY5MX0.XKkf3ekS1wkh2lMTzsArP7qSsknXzZ6t_kW-fJSI2vg")},8234:(e,t,s)=>{Promise.resolve().then(s.bind(s,9146))},9146:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>i});var a=s(5155),l=s(2115),r=s(6927),o=s(5695),n=s(6766);function i(){let e=(0,o.useRouter)(),[t,s]=(0,l.useState)(""),[i,c]=(0,l.useState)(""),[d,u]=(0,l.useState)(""),[h,g]=(0,l.useState)(!1),[m,p]=(0,l.useState)(!1),[x,b]=(0,l.useState)(!1);(0,l.useEffect)(()=>{r.N.auth.getSession().then(t=>{let{data:s}=t;s.session&&e.push("/dashboard")})},[e]);let w=e=>/^\d{10}$/.test(e.trim()),y=e=>/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(e.trim()),f=async()=>{p(!0);let{error:e}=await r.N.auth.signInWithOAuth({provider:"google",options:{redirectTo:"".concat(window.location.origin,"/dashboard")}});e&&alert(e.message),p(!1)},N=async()=>{if(w(t)){p(!0);let{error:e}=await r.N.auth.signInWithOtp({phone:"+91".concat(t.trim()),options:{channel:"sms"}});e?alert(e.message):g(!0),p(!1)}else if(y(t)){if(!i)return alert("Enter your password.");p(!0);let{error:s}=await r.N.auth.signInWithPassword({email:t.trim(),password:i});s?alert(s.message):e.push("/dashboard"),p(!1)}else alert("Enter a valid email or 10-digit phone number.")},k=async()=>{p(!0);let{error:s}=await r.N.auth.verifyOtp({phone:"+91".concat(t.trim()),token:d,type:"sms"});s?alert(s.message):e.push("/dashboard"),p(!1)},v=async()=>{if(!y(t))return alert("Enter your registered email.");p(!0);let{error:e}=await r.N.auth.resetPasswordForEmail(t.trim(),{redirectTo:"".concat(window.location.origin,"/reset-password")});e?alert(e.message):(alert("Password reset link sent to your email."),b(!0)),p(!1)};return(0,a.jsxs)("div",{className:"relative min-h-screen bg-black overflow-hidden",children:[(0,a.jsx)(n.default,{src:"/login/login-bg.png",alt:"Background",width:800,height:800,className:"absolute bottom-0 left-1/2 transform -translate-x-1/2 opacity-40 z-0",priority:!0}),(0,a.jsx)("div",{className:"absolute inset-0 flex items-center justify-center z-10 px-4",children:(0,a.jsxs)("div",{className:"w-full max-w-md bg-black/60 border border-gray-700 rounded-2xl p-8 shadow-xl space-y-6",children:[(0,a.jsxs)("div",{className:"flex flex-col items-center space-y-2",children:[(0,a.jsx)(n.default,{src:"/login/logo.jpeg",alt:"logo",width:60,height:60,className:"rounded-full"}),(0,a.jsx)("h2",{className:"text-xl text-white font-semibold text-center leading-tight",children:"The Law Classrooms"})]}),(0,a.jsx)("h3",{className:"text-white text-center font-bold",children:"Login to Your Account"}),(0,a.jsxs)("button",{onClick:f,className:"w-full bg-white hover:bg-gray-100 text-black py-3 rounded-lg font-semibold flex items-center justify-center gap-2",disabled:m,children:[(0,a.jsx)(n.default,{src:"/icons/google.png",alt:"Google",width:20,height:20}),m?"Please wait...":"Login with Google"]}),(0,a.jsx)("input",{type:"text",placeholder:"Email or Phone Number",className:"w-full px-4 py-2 bg-black border border-gray-500 rounded-lg text-white placeholder-gray-400",value:t,onChange:e=>{s(e.target.value),g(!1),b(!1)}}),y(t)&&!h&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("input",{type:"password",placeholder:"Password",className:"w-full px-4 py-2 bg-black border border-gray-500 rounded-lg text-white placeholder-gray-400",value:i,onChange:e=>c(e.target.value)}),(0,a.jsx)("div",{className:"text-right",children:(0,a.jsx)("button",{className:"text-sm text-yellow-300 hover:text-yellow-100 underline mt-1",onClick:v,children:"Forgot Password?"})})]}),w(t)&&h&&(0,a.jsx)("input",{type:"text",placeholder:"Enter OTP",className:"w-full px-4 py-2 bg-white text-black border border-gray-300 rounded-lg",value:d,onChange:e=>u(e.target.value)}),(0,a.jsx)("button",{onClick:h?k:N,className:"w-full bg-yellow-500 hover:bg-yellow-400 text-black py-3 rounded-lg font-semibold",disabled:m,children:m?h?"Verifying...":"Processing...":h?"Verify OTP":"Login"}),(0,a.jsxs)("div",{className:"text-center text-sm text-gray-400",children:["Donâ€™t have an account?"," ",(0,a.jsx)("button",{className:"text-yellow-400 underline hover:text-yellow-200",onClick:()=>e.push("/signup"),children:"Sign up"})]})]})})]})}}},e=>{var t=t=>e(e.s=t);e.O(0,[851,6766,8441,1684,7358],()=>t(8234)),_N_E=e.O()}]);
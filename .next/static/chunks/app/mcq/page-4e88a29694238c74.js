(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[262],{4613:(e,t,s)=>{Promise.resolve().then(s.bind(s,6520))},6520:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>i});var l=s(5155),a=s(2115),r=s(6927),n=s(6766);function i(){let[e,t]=(0,a.useState)(!1),[s,i]=(0,a.useState)(0),[c,d]=(0,a.useState)(!1),[o,u]=(0,a.useState)(1),[x,m]=(0,a.useState)(-.25),[h,b]=(0,a.useState)([]),[p,g]=(0,a.useState)(0),[f,j]=(0,a.useState)(null),[w,y]=(0,a.useState)(!1),[N,v]=(0,a.useState)(!0),[S,k]=(0,a.useState)(null),[C,I]=(0,a.useState)(0),[_,E]=(0,a.useState)(0),[z,T]=(0,a.useState)(0),[J,M]=(0,a.useState)(0),[O,X]=(0,a.useState)(0),[A,F]=(0,a.useState)([]),[q,L]=(0,a.useState)(!1);async function Q(){try{v(!0),k(null);let{data:e,error:t}=await r.N.from("quiz_questions").select("*");if(t)throw Error(t.message);e?(b(e),g(0),j(null)):b([])}catch(e){k("Failed to load questions: ".concat(e.message))}finally{v(!1)}}(0,a.useEffect)(()=>{Q()},[]),(0,a.useEffect)(()=>{let e=setTimeout(()=>{d(!0)},5e3);return()=>clearTimeout(e)},[]),(0,a.useEffect)(()=>{if(!c)return;let e=setInterval(()=>{i(e=>e+1)},1e3);return()=>clearInterval(e)},[c]);let U=h[p],V=U?[U.option_a,U.option_b,U.option_c,U.option_d]:[],Y=["option_a","option_b","option_c","option_d"].indexOf((null==U?void 0:U.correct_answer)||""),Z=V[Y],G=h.length,B=p+1,H=G>0?B/G*100:0,P=e=>{let t=Math.floor(e/60);return"".concat(t,":").concat((e%60).toString().padStart(2,"0"))},R=()=>{if(!U)return;let e=A.includes(U.id);null===f||e?M(e=>e+1):(I(e=>e+1),f===Y?(E(e=>e+1),X(e=>e+o)):(T(e=>e+1),X(e=>e+x)))};return(0,l.jsxs)("div",{className:"min-h-screen w-full bg-black text-white flex flex-col items-center justify-center px-4 relative",children:[e&&(0,l.jsx)("div",{className:"absolute inset-0 bg-black bg-opacity-60 flex items-center justify-center z-50",children:(0,l.jsxs)("div",{className:"bg-gray-900 rounded-lg p-6 max-w-md w-full text-center border border-gray-700 shadow-2xl",children:[(0,l.jsx)("h2",{className:"text-xl font-bold mb-4 text-yellow-400",children:"Correct Answer"}),(0,l.jsx)("p",{className:"text-white text-lg mb-6",children:Z||"No answer found."}),(0,l.jsx)("button",{onClick:()=>t(!1),className:"px-4 py-2 bg-red-600 hover:bg-red-500 text-white rounded",children:"Close"})]})}),(0,l.jsxs)("div",{className:"w-full mb-10 bg-gray-900 bg-opacity-75 backdrop-blur-sm p-4 flex items-center justify-between z-10",children:[(0,l.jsx)("span",{className:"text-sm uppercase tracking-wide text-gray-300",children:"Offences Against Human Body"}),(0,l.jsxs)("div",{className:"flex flex-col w-full max-w-md mx-auto",children:[(0,l.jsx)("div",{className:"w-full bg-gray-700 rounded-full h-2.5 mb-1",children:(0,l.jsx)("div",{className:"bg-yellow-500 h-2.5 rounded-full",style:{width:"".concat(H,"%")}})}),(0,l.jsxs)("div",{className:"flex justify-between text-sm text-gray-400",children:[(0,l.jsxs)("span",{children:["Question ",B," of ",G]}),(0,l.jsxs)("span",{children:[H.toFixed(0),"% complete"]})]})]}),(0,l.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,l.jsxs)("span",{className:"text-gray-400 flex items-center",children:["â± ",P(s)]}),(0,l.jsx)("select",{value:o,onChange:e=>u(Number(e.target.value)),className:"bg-slate-800 text-white border border-gray-600 rounded px-2 py-1",children:[1,2,3,4,5].map(e=>(0,l.jsxs)("option",{value:e,children:["+",e]},e))}),(0,l.jsx)("select",{value:x,onChange:e=>m(Number(e.target.value)),className:"bg-slate-800 text-red-400 border border-gray-600 rounded px-2 py-1",children:[-.25,-.5,-1].map(e=>(0,l.jsx)("option",{value:e,children:e},e))})]})]}),(0,l.jsxs)("div",{className:"w-full max-w-2xl bg-[#111] rounded-xl border border-gray-800 p-6 shadow-xl relative",children:[(0,l.jsx)("div",{className:"text-xs text-right text-gray-400 mb-2",children:(0,l.jsx)("button",{onClick:()=>{let e=null==U?void 0:U.id;e&&!A.includes(e)&&F([...A,e]),t(!0)},children:(0,l.jsx)(n.default,{src:"/icons/view.png",width:20,height:20,alt:"view answer"})})}),(0,l.jsx)("div",{className:"text-lg font-semibold mb-6 text-center",children:N?"Loading...":S||(null==U?void 0:U.question)}),(0,l.jsx)("div",{className:"space-y-4",children:V.map((e,t)=>{let s="bg-black border-gray-700 text-gray-300 hover:bg-gray-800";return w&&(t===f&&t===Y?s="bg-green-600 text-white":t===f&&t!==Y&&(s="bg-red-600 text-white")),(0,l.jsx)("button",{disabled:w,onClick:()=>{w||(j(t),y(!0))},className:"w-full text-left px-4 py-3 rounded-lg border ".concat(s),children:e},t)})}),(0,l.jsxs)("div",{className:"flex justify-between mt-6",children:[(0,l.jsx)("button",{onClick:()=>{R(),L(!0)},className:"px-4 py-2 rounded-full bg-gray-700 text-white",children:"LEAVE"}),(0,l.jsx)("button",{onClick:()=>{R(),p<G-1?(g(e=>e+1),j(null),y(!1),t(!1)):L(!0)},disabled:N||null!==S||0===h.length,className:"px-6 py-2 rounded-full bg-gradient-to-r from-orange-400 to-red-600 text-white font-semibold",children:p===G-1?"RESULT":"NEXT"})]})]}),q&&(0,l.jsx)("div",{className:"absolute inset-0 bg-black bg-opacity-80 flex items-center justify-center z-50",children:(0,l.jsxs)("div",{className:"bg-gray-900 p-6 rounded-xl shadow-xl text-white max-w-md w-full text-center",children:[(0,l.jsx)("h2",{className:"text-2xl font-bold text-yellow-400 mb-4",children:"Quiz Summary"}),(0,l.jsxs)("p",{children:["Total Questions: ",G]}),(0,l.jsxs)("p",{children:["Attempted: ",C]}),(0,l.jsxs)("p",{children:["Correct: ",_]}),(0,l.jsxs)("p",{children:["Wrong: ",z]}),(0,l.jsxs)("p",{children:["Skipped: ",J]}),(0,l.jsxs)("p",{children:["Time Taken: ",P(s)]}),(0,l.jsxs)("p",{className:"text-green-400 font-bold mt-2",children:["Final Score: ",O.toFixed(2)]}),(0,l.jsx)("button",{className:"mt-4 px-4 py-2 bg-red-600 hover:bg-red-500 text-white rounded",onClick:()=>L(!1),children:"Close"})]})})]})}},6927:(e,t,s)=>{"use strict";s.d(t,{N:()=>l});let l=(0,s(851).UU)("https://ydtektmyrwncoxlxfskc.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InlkdGVrdG15cnduY294bHhmc2tjIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDc0MTc2OTEsImV4cCI6MjA2Mjk5MzY5MX0.XKkf3ekS1wkh2lMTzsArP7qSsknXzZ6t_kW-fJSI2vg")}},e=>{var t=t=>e(e.s=t);e.O(0,[851,6766,8441,1684,7358],()=>t(4613)),_N_E=e.O()}]);